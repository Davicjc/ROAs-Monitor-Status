# =============================================================================
# ROAs-Monitor-Status v2.2.0 - Arquivo de Configuração (EXEMPLO)
# =============================================================================
# Copie este arquivo para "config.env" e preencha com seus dados reais.
#   cp config.env.example config.env
# =============================================================================

# ======================== TELEGRAM ===========================================
# Token do bot (obtido via @BotFather no Telegram)
TELEGRAM_BOT_TOKEN="123456789:ABCDefGhIjKlMnOpQrStUvWxYz"

# Chat ID do destinatário (usuário ou grupo)
# Para descobrir: mande msg ao bot e acesse:
# https://api.telegram.org/bot<TOKEN>/getUpdates
TELEGRAM_CHAT_ID="987654321"

# ======================== PREFIXOS A MONITORAR ===============================
# Formato: "ASN,PREFIXO" separados por ponto-e-vírgula (;)
# Suporta múltiplos prefixos e múltiplos ASNs.
#
# Exemplos:
#   Um prefixo:    PREFIXOS="12345,192.0.2.0/24"
#   Vários:        PREFIXOS="12345,192.0.2.0/24; 12345,198.51.100.0/24; 67890,203.0.113.0/24"
#   IPv6:          PREFIXOS="12345,2001:db8::/32"
#
PREFIXOS="12345,192.0.2.0/24; 12345,198.51.100.0/24"

# ======================== API RPKI (Fonte de Validação) =======================
#
# Escolha como o monitor vai consultar a validação RPKI:
#
#   "ripestat"    → API pública do RIPE (padrão, sem infra própria)
#                   Funciona para qualquer um. Usa HTTPS com fallback HTTP.
#                   Limite: ~100 consultas/5min (rate limiting).
#
#   "routinator"  → API local do Routinator (recomendado se tiver infra)
#                   Sem rate limiting, mais rápido, dados em tempo real.
#                   Requer ROUTINATOR_URL configurado.
#
RPKI_API_MODE="ripestat"

# URL do Routinator (apenas se RPKI_API_MODE="routinator")
# Exemplo: ROUTINATOR_URL="http://10.0.0.1:8323"
# ROUTINATOR_URL="http://seu-routinator:8323"

# ======================== INTERVALO DE VERIFICAÇÃO ===========================
# Tempo entre cada verificação automática, em SEGUNDOS.
# Exemplos:
#   300   = 5 minutos
#   600   = 10 minutos (padrão)
#   900   = 15 minutos
#   1800  = 30 minutos
#   3600  = 1 hora
#   21600 = 6 horas
#
# Pode ser alterado em tempo real pelo console com: interval <segundos>
CHECK_INTERVAL="600"

# ======================== MONITORAMENTO LOCAL DO KRILL (Opcional) =============
# Ativa a verificação do serviço Krill via systemctl
MONITORAR_KRILL_LOCAL="false"

# Se o Krill tiver API acessível, preencha abaixo (opcional)
# KRILL_API_URL="https://localhost:3000"
# KRILL_API_TOKEN="seu-token-krill-aqui"

# ======================== NOTIFICAÇÃO DE SUCESSO (Opcional) ==================
# Se "true", envia mensagem no Telegram mesmo quando tudo está OK.
# Útil para confirmar que o monitoramento está rodando.
ENVIAR_OK="false"

# De quantas em quantas horas enviar a confirmação de OK (padrão: 6)
# Use 0 para enviar a cada check.
ENVIAR_OK_INTERVALO="6"

# ======================== BOT TELEGRAM (Comandos) ============================
# Se "true", o bot fica escutando comandos no Telegram:
#   /log     — Envia arquivo com o log dos últimos 7 dias
#   /logall  — Envia log completo (todo o histórico)
#   /status  — Mostra status atual do monitor
#   /check   — Força verificação RPKI agora
#   /pause   — Pausa verificações automáticas
#   /resume  — Retoma verificações automáticas
#   /help    — Lista de comandos
TELEGRAM_BOT_COMMANDS="true"
